'use strict'

const P = 7;    // Change this to any big prime number. (150 digits at least)
const Q = 13;   // Change this to any big prime number, different to P. (150 digits at least)
const N = P * Q;
var E = 11;


function calcularResiduo(a, n){
    var modulo = a % n;
    var residuo = a - n*modulo;
    return residuo;
}

var _RSAEncrypt = function (input) {
    // Do encryption here.
    var encryptedByRSA = "";

    var inputAsB64 = Buffer.from(input).toString('base64');

    for (var i = 0; i<inputAsB64.length; i++){
        var asciiCode = inputAsB64.charCodeAt(i);
        
        var encryptedCharAsInt = (Math.pow(asciiCode, E) ) % N;
        encryptedByRSA += encryptedCharAsInt + " ";
    }
    encryptedByRSA.trimRight();

    return encryptedByRSA;
}

var _RSADecrypt = function (encryptedByRSA)
{

    //  Buffer.from(b64Encoded, 'base64').toString()  // To get plaintext from base64
    // Do decryption here.
    var output = encryptedByRSA + "Decrypted";
    return output;
}
var _GCD = function (a, n){
        
    // Do GCD calculation
    var modulo = a % n;
    var residuo = a - n*modulo;

    var result = 1;
    return result;
}


module.exports.RSAEncrypt = _RSAEncrypt;
module.exports.RSADecrypt = _RSADecrypt;
module.exports.GCD = _GCD;